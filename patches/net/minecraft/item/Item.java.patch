--- ../src-base/minecraft/net/minecraft/item/Item.java
+++ ../src-work/minecraft/net/minecraft/item/Item.java
@@ -54,6 +54,7 @@
 import net.minecraft.util.WeightedRandomChestContent;
 import net.minecraft.world.World;
 import net.minecraftforge.common.ChestGenHooks;
+import net.minecraftforge.common.DimensionManager; // MCPC+
 import net.minecraftforge.common.util.EnumHelper;
 
 public class Item
@@ -399,7 +400,13 @@
             else if (block == Blocks.double_plant)
             {
                 object = (new ItemDoublePlant(Blocks.double_plant, Blocks.double_plant, BlockDoublePlant.field_149892_a)).setUnlocalizedName("doublePlant");
+                // CraftBukkit start - allow certain blocks to retain data
             }
+            else if (block == Blocks.mob_spawner || block == Blocks.brown_mushroom_block || block == Blocks.red_mushroom_block)
+            {
+                object = new ItemColored(block, true);
+                // CraftBukkit end
+            }
             else
             {
                 if (hashset.contains(block))
@@ -921,7 +928,17 @@
      */
     public int getEntityLifespan(ItemStack itemStack, World world)
     {
-        return 6000;
+        // MCPC+ start - fixes MFR proxy worlds used with grinder/slaughterhouse
+        if (world == null)
+        {
+            return 6000;
+        }
+        else if (world.spigotConfig == null)
+        {
+            return DimensionManager.getWorld(0).spigotConfig.itemDespawnRate;
+        }
+        // MCPC+ end
+        return world.spigotConfig.itemDespawnRate; // Spigot
     }
 
     /**
